# Case Study - 6 : Clique Bait

All the data and questions that I've answered in this markdown can be found at  [Dannys Website](https://8weeksqlchallenge.com/case-study-6/).

And all my solutions have been executed at [DB Fiddle](https://www.db-fiddle.com/f/jmnwogTsUE8hGqkZv9H7E8/17) using POSTGRE SQL V 13. If you get any kind of errors when you are executing my queries given below, you might be using some other dialect of SQL other than postgre sql v 13. Please look up alternate ways to achieve the same thing on your SQL dialect. However I do prefer just practising these questions on DB Fiddle itself.

**You can directly skip to code block to directly view the solution. However if you are stuck understanding something I suggest you to read my approach on how I tackled the problem**\
**Also please run the code blocks youself on dbfiddle as you can look at the output and follow through my explanations when you are confused**

## Digital Analysis

**1) How many users are there?**

#### Final Query

#### Output Table
 
**2) How many cookies does each user have on average?**

#### Final Query

#### Output Table
 
**3) What is the unique number of visits by all users per month?**

#### Final Query

#### Output Table
 
**4) What is the number of events for each event type?**

#### Final Query

#### Output Table
 
**5) What is the percentage of visits which have a purchase event?**

#### Final Query

#### Output Table
 
**6) What is the percentage of visits which view the checkout page but do not have a purchase event?**

#### Final Query

#### Output Table
 
**7) What are the top 3 pages by number of views?**

#### Final Query

#### Output Table
 
**8) What is the number of views and cart adds for each product category?**

#### Final Query

#### Output Table
 
**9) What are the top 3 products by purchases?**

#### Final Query

#### Output Table
 

## Product Funnel Analysis

**Using a single SQL query - create a new output table which has the following details:
How many times was each product viewed?
How many times was each product added to cart?
How many times was each product added to a cart but not purchased (abandoned)?
How many times was each product purchased?**

#### Final Query

#### Output Table
 
**Additionally, create another table which further aggregates the data for the above points but this time for each product category instead of individual products.**

#### Final Query

#### Output Table
 
**Use your 2 new output tables - answer the following questions:**
**1) Which product had the most views, cart adds and purchases?**

#### Final Query

#### Output Table
 
**2) Which product was most likely to be abandoned?**

#### Final Query

#### Output Table
 
**3) Which product had the highest view to purchase percentage?**

#### Final Query

#### Output Table
 
**4) What is the average conversion rate from view to cart add?**

#### Final Query

#### Output Table
 
**5) What is the average conversion rate from cart add to purchase?**

#### Final Query

#### Output Table
 

## Campaigns Analysis
